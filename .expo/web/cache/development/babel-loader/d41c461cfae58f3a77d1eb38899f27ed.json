{"ast":null,"code":"import * as React from 'react';\nimport { useNavigation, useRoute, useNavigationState } from '@react-navigation/native';\nimport createCompatNavigationProp from \"./createCompatNavigationProp\";\nexport default function useCompatNavigation() {\n  var navigation = useNavigation();\n  var route = useRoute();\n  var isFirstRouteInParent = useNavigationState(function (state) {\n    return state.routes[0].key === route.key;\n  });\n  var context = React.useRef({});\n  return React.useMemo(function () {\n    return createCompatNavigationProp(navigation, route, context.current, isFirstRouteInParent);\n  }, [isFirstRouteInParent, navigation, route]);\n}","map":{"version":3,"mappings":"AAAA,OAAO,KAAKA,KAAZ,MAAuB,OAAvB;AACA,SACEC,aADF,EAEEC,QAFF,EAKEC,kBALF,QAMO,0BANP;AAOA,OAAOC,0BAAP;AAGA,eAAe,SAASC,mBAAT,GAEX;EACF,IAAMC,UAAU,GAAGL,aAAa,EAAhC;EACA,IAAMM,KAAK,GAAGL,QAAQ,EAAtB;EAEA,IAAMM,oBAAoB,GAAGL,kBAAkB,CAC5CM,eAAD;IAAA,OAAWA,KAAK,CAACC,MAAN,CAAa,CAAb,EAAgBC,GAAhB,KAAwBJ,KAAK,CAACI,GADI;EAAA,EAA/C;EAIA,IAAMC,OAAO,GAAGZ,KAAK,CAACa,MAAN,CAAkC,EAAlC,CAAhB;EAEA,OAAOb,KAAK,CAACc,OAAN,CACL;IAAA,OACEV,0BAA0B,CACxBE,UADwB,EAExBC,KAFwB,EAGxBK,OAAO,CAACG,OAHgB,EAIxBP,oBAJwB,CAFvB;EAAA,GAQL,CAACA,oBAAD,EAAuBF,UAAvB,EAAmCC,KAAnC,CARK,CAAP;AAUD","names":["React","useNavigation","useRoute","useNavigationState","createCompatNavigationProp","useCompatNavigation","navigation","route","isFirstRouteInParent","state","routes","key","context","useRef","useMemo","current"],"sources":["useCompatNavigation.tsx"],"sourcesContent":["import * as React from 'react';\nimport {\n  useNavigation,\n  useRoute,\n  NavigationProp,\n  ParamListBase,\n  useNavigationState,\n} from '@react-navigation/native';\nimport createCompatNavigationProp from './createCompatNavigationProp';\nimport type { CompatNavigationProp } from './types';\n\nexport default function useCompatNavigation<\n  T extends NavigationProp<ParamListBase>\n>() {\n  const navigation = useNavigation();\n  const route = useRoute();\n\n  const isFirstRouteInParent = useNavigationState(\n    (state) => state.routes[0].key === route.key\n  );\n\n  const context = React.useRef<Record<string, any>>({});\n\n  return React.useMemo(\n    () =>\n      createCompatNavigationProp(\n        navigation,\n        route as any,\n        context.current,\n        isFirstRouteInParent\n      ) as CompatNavigationProp<T>,\n    [isFirstRouteInParent, navigation, route]\n  );\n}\n"]},"metadata":{},"sourceType":"module"}